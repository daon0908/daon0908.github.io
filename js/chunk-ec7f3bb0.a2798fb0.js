(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec7f3bb0"],{"2f4c":function(e,t,o){},"41d9":function(e,t,o){"use strict";o("7db0");var a=o("5530"),_=o("2f62");t["a"]={data:function(){return{motionCamera_evaluation_result:[{code:1,status:"PERFECT"},{code:2,status:"GOOD"},{code:3,status:"BAD"}],motionCamera_exercise_list:[{exSortCode:1039,name:"데드 리프트"},{exSortCode:1088,name:"벤트 오버 바벨 로우"},{exSortCode:1106,name:"벤트 오버 투암 덤벨 로우"},{exSortCode:1089,name:"사이드 런지"},{exSortCode:1121,name:"스쿼트(맨몸)"},{exSortCode:1090,name:"스티프 레그드 데드리프트"},{exSortCode:1044,name:"런지"},{exSortCode:1013,name:"사이드 래터럴 레이즈"},{exSortCode:1025,name:"프런트 래터럴 레이즈"},{exSortCode:1092,name:"벤트 오버 레터럴 레이즈"},{exSortCode:1107,name:"이지바 컬"},{exSortCode:1022,name:"바벨 컬"},{exSortCode:1097,name:"원 암 트라이셉스 익스텐션"},{exSortCode:1091,name:"밀리터리 프레스"},{exSortCode:1e3,name:"덤벨 컬"},{exSortCode:1095,name:"해머 컬"},{exSortCode:1093,name:"덤벨 숄더 프레스"},{exSortCode:1126,name:"점핑 잭"},{exSortCode:1123,name:"제자리 무릎 올리기"},{exSortCode:3030,name:"스퀘트"},{exSortCode:3034,name:"팔 벌려뛰기"},{exSortCode:3037,name:"데드리프트"},{exSortCode:3038,name:"체스트프레스"},{exSortCode:3040,name:"벤트오버로우"},{exSortCode:3041,name:"데드리프트"},{exSortCode:3043,name:"레그익스텐션"},{exSortCode:3044,name:"사이드 레터럴 레이즈"},{exSortCode:3045,name:"시티드 덤벨 숄더프레스"},{exSortCode:3046,name:"바이스 컬"},{exSortCode:3047,name:"킥백"}],motionCamera_address:"ws://127.0.0.1:".concat("9090"),motionCamera_webSocket:null,motionCamera_webSocket_status:{},motionCamera_webSocket_play:!0,motionCamera_dialog:null,motionCamera_exercise_count:0,motionCamera_playZone:{value:!1,message:"동작인식을 할 수 없습니다. 운동인식이 가능한 위치로 이동해 주세요."}}},computed:Object(a["a"])({},Object(_["c"])(["GET_MENU_SELECT_EXERCISE"])),watch:{motionCamera_webSocket_status:function(e){3===e.code&&(this.motionCamera_dialog=e),2!==e.code&&1!==e.code||this.motionCamera_notice_toastr(e)}},mounted:function(){},destroyed:function(){},methods:{motionCamera_checkExercise:function(e){var t=this.motionCamera_exercise_list.find((function(t){return t.exSortCode===e})),o=void 0!==t;return o},motionCamera_open:function(e){var t=this;null!==this.motionCamera_webSocket&&(this.motionCamera_webSocket.close(),this.motionCamera_webSocket=null),this.motionCamera_webSocket=new WebSocket(this.motionCamera_address),console.log("Try to connect to ",this.motionCamera_address),this.motionCamera_webSocket.onopen=function(){console.log("접속 성공"),t.motionCamera_requestToConnect()},this.motionCamera_webSocket.onerror=function(){t.motionCamera_isConnected()},this.motionCamera_webSocket.onclose=function(){t.motionCamera_isConnected()},this.motionCamera_webSocket.onmessage=function(o){t.motionCamera_onMessage(o,e)}},motionCamera_requestToConnect:function(){var e={type:"connect"};this.motionCamera_webSocket.send(JSON.stringify(e)),this.motionCamera_webSocket_play=!0},motionCamera_requestToDisconnect:function(){var e={type:"disconnect"};this.motionCamera_webSocket.send(JSON.stringify(e))},motionCamera_requestToStartRecognition:function(e){var t={type:"play",playCode:e};this.motionCamera_webSocket.send(JSON.stringify(t))},motionCamera_requestToStopRecognition:function(){var e={type:"finish"};this.motionCamera_webSocket.send(JSON.stringify(e))},motionCamera_onMessage:function(e,t){var o=JSON.parse(e.data);if(o)switch(o.type){case"connect":this.motionCamera_onMessage_Connect(o,t);break;case"disconnect":this.motionCamera_onMessage_disonnect(o);break;case"play":this.motionCamera_onMessage_play(o);break;case"finish":this.motionCamera_onMessage_finish(o);break;case"zone":this.motionCamera_onMessage_TrackPerson(o);break;case"message":this.motionCamera_onMessage_Count(o);break;default:this.motionCamera_onMessage_default(o);break}},motionCamera_onMessage_Connect:function(e,t){if(-1002===e.errCode&&void 0!==e.errMsg){var o={title:"키넥트 연결 오류",message:e.errMsg};this.motionCamera_notice_toastr(o)}else this.motionCamera_requestToStartRecognition(t)},motionCamera_onMessage_disonnect:function(e){!0===e.result&&this.motionCamera_webSocket.close()},motionCamera_onMessage_play:function(e){-2003===e.errCode?this.motionCamera_webSocket_play=!1:this.motionCamera_webSocket_play=!0},motionCamera_onMessage_finish:function(e){if(-1002!==e.errCode&&this.motionCamera_notice_toastr(e.message),window.chrome.webview.postMessage(JSON.stringify(e.result)),!0===e.result){console.log("skeleton On");var t={type:"skeleton",exSortCode:this.GET_MENU_SELECT_EXERCISE.exSortCode};window.chrome.webview.postMessage(JSON.stringify(t))}},motionCamera_onMessage_TrackPerson:function(e){if("in"===e.playZone)this.motionCamera_playZone={value:!0,message:"동작인식이 가능합니다. 운동을 시작해 주세요."};else if("out"===e.playZone){var t;switch(e.direction){case"front":t="동작인식을 할 수 없습니다. 스마트 미러로 부터 뒤로 물러나 주세요.";break;case"back":t="동작인식을 할 수 없습니다. 스마트 미러로 부터 앞으로 다가와 주세요.";break;case"left":t="동작인식을 할 수 없습니다. 스마트 미러로 부터 오른쪽으로 움직여 주세요.";break;case"right":t="동작인식을 할 수 없습니다. 스마트 미러로 부터 왼쪽으로 움직여 주세요.";break;default:t="동작인식을 할 수 없습니다. 운동인식이 가능한 위치로 이동해 주세요.";break}this.motionCamera_playZone={value:!1,message:t}}},motionCamera_onMessage_default:function(e){if(console.log("motionCamera",e),void 0!==e.errMsg){var t={title:e.type,message:e.errMsg};this.motionCamera_notice_toastr(t)}},motionCamera_onMessage_Count:function(){this.motionCamera_exercise_count+=1},motionCamera_notice_toastr:function(e){this.$toastr.warning(e.message,e.title,{position:"toast-top-center",clickClose:!0})},motionCamera_isConnected:function(){if(this.motionCamera_webSocket)switch(this.motionCamera_webSocket.readyState){case 0:this.motionCamera_webSocket_status={code:0,title:"카메라 연결 준비중",message:"카메라 연결이 아직 연결되지 않았습니다. 연결 준비중 입니다."};break;case 1:this.motionCamera_webSocket_status={code:1,title:"카메라 연결",message:"카메라와 연결할 수 있습니다."};break;case 2:this.motionCamera_webSocket_status={code:2,title:"카메라 닫는중",message:"카메라 연결이 닫는중입니다."};break;case 3:this.motionCamera_webSocket_status={code:3,title:"카메라 연결 오류",message:"카메라 연결이 닫혔거나 연결할 수 없습니다. 연결 상태를 확인해 주세요."};break}}}}},"861a":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{staticClass:"container pa-0",attrs:{fluid:""}},[o("play-program-exercise",{attrs:{motionCamera_playZone:e.motionCamera_playZone},on:{"close-on":function(t){return e.ResetPlayItems()}}}),o("common-confirm-dialog",{attrs:{dialog:e.reconnetDialog,dialogItems:e.dialogItems},on:{"close-cancel":function(t){return e.CancelDialog()},"close-allow":function(t){return e.AllowDialog()}}})],1)},_=[],n=(o("99af"),o("b0c0"),o("96cf"),o("1da1")),i=o("5530"),s=o("2f62"),r=o("872c"),c=o("db39"),E=o("fa6c"),R=o("41d9"),m={name:"ProgramPlay",mixins:[c["a"],E["a"],r["a"],R["a"]],data:function(){return{dialogItems:{title:null,text:null,close:"취소",confirm:"확인"},reconnetDialog:!1}},computed:Object(i["a"])({},Object(s["c"])(["GET_MENU_SELECT_EXERCISE","GET_MENU_SELECT_PROGRAM","GET_PROGRAM_PLAY_EXERCISE_MODE","GET_PROGRAM_PLAY_TOTAL_SET","GET_PROGRAM_PLAY_PLAY_SET","GET_PROGRAM_PLAY_EXERCISE_TIME","GET_PROGRAM_PLAY_PLAY_ITEMS","GET_PROGRAM_PLAY_CURRENT_PART","GET_PROGRAM_PLAY_TOTAL_EXERCISE_TIME","GET_PROGRAM_PLAY_GOAL_COUNT","GET_PROGRAM_PLAY_REST_SET","GET_PROGRAM_PLAY_START_SET"])),watch:{GET_PROGRAM_PLAY_PLAY_SET:function(e){e>1&&(this.RecodeDetail(),this.PushResultData(),e>this.GET_PROGRAM_PLAY_TOTAL_SET&&(this.timer_program_stop(),this.MU_PROGRAM_PLAY_EXERCISE(!1),this.PushCompleteData()))},GET_PROGRAM_PLAY_CURRENT_PART:function(e){e>0&&this.EditDetailData()},motionCamera_exercise_count:function(){this.MU_PROGRAM_PLAY_PLAY_ITEMS_EXERCISE_COUNT(this.GET_PROGRAM_PLAY_PLAY_ITEMS.exerciseCount+1),this.GET_PROGRAM_PLAY_PLAY_ITEMS.exerciseCount===this.GET_PROGRAM_PLAY_GOAL_COUNT&&(this.MU_PROGRAM_PLAY_PLAY_ITEMS_EXERCISE_COUNT(0),this.MU_PROGRAM_PLAY_EXERCISE(!1),2===this.GET_PROGRAM_PLAY_EXERCISE_MODE&&(this.motionCamera_requestToStopRecognition(),this.motionCamera_requestToDisconnect()))},motionCamera_dialog:function(e){null!==e&&(this.statusStop=!0,this.motionCamera_requestToDisconnect(),this.dialogItems={title:e.title,text:e.message,close:"운동감지 취소",confirm:"웹소켓 연결 재시도"},this.reconnetDialog=!0)},motionCamera_webSocket_play:function(e){e||this.MU_PROGRAM_PLAY_EXERCISE_MODE(1)}},created:function(){},mounted:function(){},destroyed:function(){},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["b"])(["ACT_PROGRAM_PLAY_API_SET_PROGRAM_STRETCH_RESULT","ACT_PROGRAM_PLAY_API_SET_PROGRAM_STRETCH_COMPLETE","ACT_PROGRAM_PLAY_API_SET_PROGRAM_RESULT","ACT_PROGRAM_PLAY_API_SET_PROGRAM_COMPLETE"])),Object(s["d"])(["MU_PROGRAM_PLAY_EXERCISE_MODE","MU_PROGRAM_PLAY_EXERCISE","MU_PROGRAM_PLAY_PAUSE","MU_PROGRAM_PLAY_EXERCISE_TIME","MU_PROGRAM_PLAY_START_SET","MU_PROGRAM_PLAY_START_TIME","MU_PROGRAM_PLAY_REST_TIME","MU_PROGRAM_PLAY_REST_SET","MU_PROGRAM_PLAY_TOTAL_EXERCISE_TIME","MU_PROGRAM_PLAY_TOTAL_REST_TIME","MU_PROGRAM_PLAY_TOTAL_SET","MU_PROGRAM_PLAY_PLAY_SET","MU_PROGRAM_PLAY_TOTAL_PART","MU_PROGRAM_PLAY_CURRENT_PART","MU_PROGRAM_PLAY_GOAL_COUNT","MU_PROGRAM_PLAY_PLAY_ITEMS","MU_PROGRAM_PLAY_PLAY_ITEMS_EXERCISE_COUNT","MU_PROGRAM_PLAY_PLAY_ITEMS_EXERCISE_SET","MU_PROGRAM_PLAY_PLAY_ITEMS_DETAIL_ITMES","MU_REPORT_EXERCISE_TIME","MU_REPORT_RESULT_DETAIL","MU_REPORT_ITEMS"])),{},{RecodeDetail:function(){this.MU_PROGRAM_PLAY_PLAY_ITEMS_EXERCISE_SET(this.GET_PROGRAM_PLAY_PLAY_ITEMS.exerciseSet+1);var e=this.common_time_string(this.GET_PROGRAM_PLAY_TOTAL_EXERCISE_TIME-1),t="".concat(this.GET_PROGRAM_PLAY_PLAY_SET-1,"세트 | ").concat(e),o={title:this.GET_MENU_SELECT_EXERCISE.name,success:!0,recode:t};this.MU_REPORT_EXERCISE_TIME(this.GET_PROGRAM_PLAY_EXERCISE_TIME),this.MU_REPORT_RESULT_DETAIL(o),this.MU_REPORT_ITEMS(this.GET_PROGRAM_PLAY_PLAY_ITEMS),this.MU_PROGRAM_PLAY_TOTAL_EXERCISE_TIME(0)},EditDetailData:function(){var e=this.GET_MENU_SELECT_PROGRAM[this.GET_PROGRAM_PLAY_CURRENT_PART-1];if(e){this.CheckMotionMode(e);var t={exSeq:e.exSeq,subExSortCode:e.subExSortCode,exTime:e.exTime,restTime:this.GET_PROGRAM_PLAY_REST_SET};this.MU_PROGRAM_PLAY_PLAY_ITEMS_DETAIL_ITMES(t)}},CheckMotionMode:function(e){var t=1,o="true",a=this.motionCamera_checkExercise(e.subExSortCode);"true"===o&&a&&(t=2,this.MU_PROGRAM_PLAY_GOAL_COUNT(10),this.motionCamera_open(e.subExSortCode)),this.MU_PROGRAM_PLAY_EXERCISE_MODE(t)},PushResultData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={setStartTime:e.GET_PROGRAM_PLAY_PLAY_ITEMS.setStartTime,setSeq:e.GET_PROGRAM_PLAY_PLAY_SET-1,subExCount:e.GET_MENU_SELECT_PROGRAM.lenght,exTime:e.GET_PROGRAM_PLAY_START_SET,restTime:e.GET_PROGRAM_PLAY_REST_SET,setDetail:e.GET_PROGRAM_PLAY_PLAY_ITEMS.detailItems},t.next=3,e.ACT_PROGRAM_PLAY_API_SET_PROGRAM_RESULT(o);case 3:case"end":return t.stop()}}),t)})))()},PushCompleteData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={exSortCode:e.GET_MENU_SELECT_EXERCISE.exSortCode,isPresEx:1},t.next=3,e.ACT_PROGRAM_PLAY_API_SET_PROGRAM_COMPLETE(o).then((function(){e.$router.push("/user/exercise/report")}));case 3:case"end":return t.stop()}}),t)})))()},AllowDialog:function(){this.dialogItems={},this.reconnetDialog=!1,this.EditDetailData()},CancelDialog:function(){this.dialogItems={},this.reconnetDialog=!1,this.MU_PROGRAM_PLAY_EXERCISE_MODE(1)},ResetPlayItems:function(){2!==this.GET_PROGRAM_PLAY_EXERCISE_MODE&&this.motionCamera_webSocket_play||(this.motionCamera_requestToStopRecognition(),this.motionCamera_requestToDisconnect());var e="00:00",t=0,o=0,a=0,_=0,n=0,i=0,s=0,r=0,c=0,E=0,R=0,m={totalSet:0,setStartTime:0,exerciseSet:0,exerciseCount:0,detailItems:[]};this.MU_PROGRAM_PLAY_EXERCISE(!1),this.MU_PROGRAM_PLAY_PAUSE(!1),this.MU_PROGRAM_PLAY_EXERCISE_TIME(e),this.MU_PROGRAM_PLAY_START_SET(t),this.MU_PROGRAM_PLAY_START_TIME(o),this.MU_PROGRAM_PLAY_REST_TIME(a),this.MU_PROGRAM_PLAY_REST_SET(_),this.MU_PROGRAM_PLAY_TOTAL_EXERCISE_TIME(n),this.MU_PROGRAM_PLAY_TOTAL_REST_TIME(i),this.MU_PROGRAM_PLAY_TOTAL_SET(s),this.MU_PROGRAM_PLAY_PLAY_SET(r),this.MU_PROGRAM_PLAY_TOTAL_PART(c),this.MU_PROGRAM_PLAY_CURRENT_PART(E),this.MU_PROGRAM_PLAY_GOAL_COUNT(R),this.MU_PROGRAM_PLAY_PLAY_ITEMS(m)}})},A=m,P=(o("c3cf"),o("2877")),T=o("6544"),M=o.n(T),C=o("a523"),S=Object(P["a"])(A,a,_,!1,null,null,null);t["default"]=S.exports;M()(S,{VContainer:C["a"]})},a523:function(e,t,o){"use strict";o("99af"),o("4de4"),o("b64b"),o("2ca0"),o("20f6"),o("4b85"),o("a15b"),o("498a");var a=o("2b0e");function _(e){return a["a"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,o){var a=o.props,_=o.data,n=o.children;_.staticClass="".concat(e," ").concat(_.staticClass||"").trim();var i=_.attrs;if(i){_.attrs={};var s=Object.keys(i).filter((function(e){if("slot"===e)return!1;var t=i[e];return e.startsWith("data-")?(_.attrs[e]=t,!1):t||"string"===typeof t}));s.length&&(_.staticClass+=" ".concat(s.join(" ")))}return a.id&&(_.domProps=_.domProps||{},_.domProps.id=a.id),t(a.tag,_,n)}})}var n=o("d9f7");t["a"]=_("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(e,t){var o,a=t.props,_=t.data,i=t.children,s=_.attrs;return s&&(_.attrs={},o=Object.keys(s).filter((function(e){if("slot"===e)return!1;var t=s[e];return e.startsWith("data-")?(_.attrs[e]=t,!1):t||"string"===typeof t}))),a.id&&(_.domProps=_.domProps||{},_.domProps.id=a.id),e(a.tag,Object(n["a"])(_,{staticClass:"container",class:Array({"container--fluid":a.fluid}).concat(o||[])}),i)}})},c3cf:function(e,t,o){"use strict";var a=o("2f4c"),_=o.n(a);_.a}}]);
//# sourceMappingURL=chunk-ec7f3bb0.a2798fb0.js.map