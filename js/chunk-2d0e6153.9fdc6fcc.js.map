{"version":3,"sources":["webpack:///./src/page/3_/9_openWeatherMap.vue?ebd1","webpack:///src/page/3_/9_openWeatherMap.vue","webpack:///./src/page/3_/9_openWeatherMap.vue?12ec","webpack:///./src/page/3_/9_openWeatherMap.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","Date","toLocaleString","location","item","code","title","model","value","callback","$$v","city","expression","staticClass","weather","temp","humidity","wind_speed","class","icon","staticStyle","staticRenderFns","data","computed","watch","getWeather","created","start","mounted","$store","dispatch","methods","timeCounter","console","log","index","main","weather_description","description","String","name","wind_deg","wind","deg","speed","weatherIcon","beforeDestroy","component","VCard","VFlex","VIcon","VLayout","VSelect"],"mappings":"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","file":"js/chunk-2d0e6153.9fdc6fcc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"justify-center\":\"\",\"mt-5\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-card',[_c('v-layout',{attrs:{\"row\":\"\",\"fill-height\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-layout',{attrs:{\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"align-end\":\"\",\"flexbox\":\"\",\"pa-3\":\"\"}},[_c('h2',[_vm._v(_vm._s(new Date().toLocaleString()))]),_c('v-select',{attrs:{\"items\":_vm.location,\"label\":\"지역\",\"item-value\":function (item){return item.code},\"item-text\":function (item){return item.title}},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}}),_c('p',{staticClass:\"headline\"},[_vm._v(\"온도 - \"+_vm._s(_vm.weather.temp)+\"℃\")]),_c('p',{staticClass:\"headline\"},[_vm._v(\"습도 - \"+_vm._s(_vm.weather.humidity)+\"%\")]),_c('p',{staticClass:\"headline\"},[_vm._v(\"바람 - \"+_vm._s(_vm.weather.wind_speed)+\"m/s\")])],1)],1)],1),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-icon',{class:_vm.weather.icon,staticStyle:{\"width\":\"100px\",\"height\":\"100px\",\"font-size\":\"6rem\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-layout justify-center mt-5>\r\n    <v-flex xs12 sm6>\r\n      <v-card>\r\n        <v-layout row fill-height align-center justify-center>\r\n          <v-flex xs6>\r\n            <v-layout fill-height>\r\n              <v-flex xs12 align-end flexbox pa-3>\r\n                <h2>{{ new Date().toLocaleString() }}</h2>\r\n                <v-select\r\n                  :items=\"location\"\r\n                  v-model=\"city\"\r\n                  label=\"지역\"\r\n                  :item-value=\"item=>{return item.code}\"\r\n                  :item-text=\"item=>{return item.title}\"\r\n                ></v-select>\r\n                <p class=\"headline\">온도 - {{weather.temp}}℃</p>\r\n                <p class=\"headline\">습도 - {{weather.humidity}}%</p>\r\n                <p class=\"headline\">바람 - {{weather.wind_speed}}m/s</p>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-flex>\r\n          <v-flex xs6>\r\n            <!-- <img :src=\"weather.icon\" width=\"100\" height=\"100\" alt=\"\"> -->\r\n            <v-icon style=\"width:100px; height:100px; font-size:6rem;\" :class=\"weather.icon\"></v-icon>\r\n          </v-flex>\r\n        </v-layout>\r\n      </v-card>\r\n    </v-flex>\r\n  </v-layout>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nimport axios from \"axios\";\r\nexport default {\r\n  data: () => ({\r\n    card: { title: 'Pre-fab homes', src: 'https://cdn.vuetifyjs.com/images/cards/house.jpg', flex: 12, icon: 'cloud' },\r\n    city:'Seoul',\r\n    apikey: '8ea82574a10697f4842bd8f29bff73fa',\r\n    weather: {},\r\n    location: [\r\n      {code:'Seoul',              title:'서울'},\r\n      {code:'Gyeonggi-do',        title:'경기도'},\r\n      {code:'Gangwon-do',         title:'강원도'},\r\n      {code:'Chungcheongnam-do',  title:'충청남도'},\r\n      {code:'Chungcheongbuk-do',  title:'충청북도'},\r\n      {code:'Jeollabuk-do',       title:'전라북도'},\r\n      {code:'Jeollanam-do',       title:'전라남도'},\r\n      {code:'Gyeongsangbuk-do',   title:'경상북도'},\r\n      {code:'Gyeongsangnam-do',   title:'경상남도'},\r\n      {code:'Jeju-do',            title:'제주도'},\r\n      {code:'Incheon',            title:'인천'},\r\n      {code:'Daejeon',            title:'대전'},\r\n      {code:'Daegu',              title:'대구'},\r\n      {code:'Gwangju',            title:'광주'},\r\n      {code:'Ulsan',              title:'울산'},\r\n      {code:'Busan',              title:'부산'},\r\n    ],\r\n\r\n    // time \r\n    timeCounter : 60, // 1분에 한번씩 호출\r\n  }),\r\n  computed: {\r\n  },\r\n  watch:{\r\n    city(val){\r\n      this.getWeather();\r\n    }\r\n  },\r\n  created(){\r\n    this.start();\r\n  },\r\n  mounted(){\r\n    // var apiURI =\"http://api.openweathermap.org/data/2.5/weather?q=\"+this.city+\"&appid=\"+this.apikey;\r\n    //   $.ajax({\r\n    //     url : apiURI,\r\n    //     method : 'GET',\r\n    //     success :  (data)=> {\r\n    //       console.log(data);\r\n    //       var temp = String((data.main.temp - 272)).substring(0,3); // 온도\r\n    //       var location = data.name; // 지역이름 \r\n    //       $('#chatLog').append('지역 ：' + location + ' 온도　：' + tempr　+ \"도입니다. \"+'\\n');\r\n    //       // 아이콘 취득 \r\n    //       var imgURL = \"http://openweathermap.org/img/w/\" + data.weather[0].icon + \".png\";\r\n    //       // 아이콘 표시\r\n    //       $('#img').attr(\"src\", imgURL);\r\n    //     }\r\n    //   });\r\n    this.getWeather();\r\n    this.$store.dispatch('route','/9_openWeatherMap');\r\n  },\r\n  methods:{\r\n    start(){\r\n\t\t\t// 1초에 한번씩 start 호출\r\n\t\t\tthis.polling = setInterval( () =>{\r\n        this.timeCounter-- //1찍 감소\r\n\t\t\t\tif (this.timeCounter <= 0) this.getWeather(); // 0이되는 순간 this.getWeather를 호출한다.\r\n\t\t\t},1000)\r\n    },\r\n    getWeather(){\r\n      this.timeCounter = 60;\r\n      axios.get(\"http://api.openweathermap.org/data/2.5/weather?q=\"+this.city+\"&appid=\"+this.apikey)\r\n      .then( (resp) => {\r\n        console.log(\"resp\",resp);\r\n        let data = resp.data;\r\n        const index = data.weather.length-1;\r\n        var icon = this.weatherIcon(data.weather[index].icon);\r\n\r\n        // var icon_img = 'http://openweathermap.org/img/w/'+data.weather[0].icon+'.png';\r\n\r\n        this.weather={\r\n          weather: data.weather[index].main,\r\n          weather_description: data.weather[index].description,\r\n          temp: String((data.main.temp - 272)).substring(0,4),\r\n          humidity: data.main.humidity,\r\n          title: data.name,\r\n          wind_deg: data.wind.deg,\r\n          wind_speed: data.wind.speed,\r\n          icon: icon\r\n        }\r\n        // console.log(\"weather\",this.weather);\r\n      })\r\n      .catch(e => {\r\n          alert(e);\r\n      });\r\n    },\r\n    weatherIcon(value){\r\n      let type = value.substring(0,2);\r\n      var icon = null;\r\n      // console.log(type);\r\n      switch ( type ) {\r\n        case '01':\r\n          icon = 'wi wi-day-sunny';\r\n          break;\r\n        case '02':\r\n          icon = 'wi wi-day-cloudy';\r\n          break;\r\n        case '03':\r\n          icon = 'wi wi-cloud';\r\n          break;\r\n        case '04':\r\n          icon = 'wi wi-cloudy';\r\n          break;\r\n        case '09':\r\n          icon = 'wi wi-rain';\r\n          break;\r\n        case '10':\r\n          icon = 'wi wi-showers';\r\n          break;\r\n        case '11':\r\n          icon = 'wi wi-thunderstorm';\r\n          break;\r\n        case '13':\r\n          icon = 'wi wi-snow';\r\n          break;\r\n        case '50':\r\n          icon = 'wi wi-sprinkle';\r\n          break;\r\n        default:\r\n          icon = 'wi wi-na';\r\n      }\r\n      return icon;\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n\t\tclearInterval(this.polling); // clearInterval은 setInterval을 멈추게 한다. 페이지를 나갈때 setInterval을 멈추게 한다.\r\n\t}\r\n}\r\n\r\n</script>\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./9_openWeatherMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./9_openWeatherMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./9_openWeatherMap.vue?vue&type=template&id=3d902b1f&\"\nimport script from \"./9_openWeatherMap.vue?vue&type=script&lang=js&\"\nexport * from \"./9_openWeatherMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VCard,VFlex,VIcon,VLayout,VSelect})\n"],"sourceRoot":""}